<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPad Hub - Beta</title>
    <style>
        :root { --primary: #00d4ff; --bg: #0a0a0c; --card: #16161e; }
        body { background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; padding: 15px; }
        
        /* Login Bereich */
        #login-overlay { background: var(--card); padding: 20px; border-radius: 15px; border: 2px solid var(--primary); max-width: 400px; margin: 20px auto; }
        input { width: 80%; padding: 10px; border-radius: 8px; border: none; margin-bottom: 10px; background: #252530; color: white; }
        button { background: var(--primary); color: black; border: none; padding: 10px 20px; border-radius: 8px; font-weight: bold; cursor: pointer; }

        /* Scoreboard */
        .scoreboard-container { background: var(--card); border-radius: 15px; padding: 15px; margin: 20px auto; max-width: 600px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th { text-align: left; color: var(--primary); border-bottom: 1px solid #333; padding: 8px; }
        td { padding: 8px; border-bottom: 1px solid #222; }

        /* Game Grid */
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; margin-top: 20px; }
        .game-card { background: var(--card); border-radius: 20px; padding: 10px; border: 1px solid #2a2a35; }
        .game-card h3 { margin: 10px; font-size: 1.2rem; }
        .iframe-wrapper { position: relative; width: 100%; height: 500px; border-radius: 12px; overflow: hidden; }
        iframe { width: 100%; height: 100%; border: none; }
        
        .hidden { display: none; }
    </style>
</head>
<body>

    <h1 style="text-align:center;">üöÄ iPad Games Hub</h1>

    <div id="login-overlay">
        <h3>üîë Member Login</h3>
        <p>Erstelle einen Namen f√ºr das Scoreboard:</p>
        <input type="text" id="username" placeholder="Dein Nickname...">
        <br>
        <button onclick="doLogin()">Beitreten & Spielen</button>
    </div>

    <div id="main-content" class="hidden">
        <div class="scoreboard-container">
            <h3>üèÜ Live Scoreboard (Subway Surfers)</h3>
            <div id="user-info"></div>
            <table>
                <thead>
                    <tr><th>Platz</th><th>Spieler</th><th>Score</th></tr>
                </thead>
                <tbody id="leaderboard-body">
                    </tbody>
            </table>
            <div style="margin-top:15px;">
                <input type="number" id="score-input" placeholder="Deinen neuen Rekord eingeben..." style="width:200px;">
                <button onclick="saveNewScore()">Score eintragen</button>
            </div>
        </div>

        <div class="grid">
            <div class="game-card">
                <h3>Subway Surfers</h3>
                <div class="iframe-wrapper">
                    <iframe src="https://poki.com/de/g/subway-surfers"></iframe>
                </div>
            </div>

            <div class="game-card">
                <h3>Brawl Stars (Web-Edition)</h3>
                <div class="iframe-wrapper">
                    <iframe src="https://www.crazygames.com/embed/brawl-stars-royale"></iframe>
                </div>
            </div>

            <div class="game-card">
                <h3>Clash Hero (√§hnlich wie CR)</h3>
                <div class="iframe-wrapper">
                    <iframe src="https://www.crazygames.com/embed/clash-of-skulls"></iframe>
                </div>
            </div>
        </div>
    </div>

<script>
    let activeUser = "";
    
    // Scoreboard ist am Anfang komplett leer
    let scores = []; 

    function doLogin() {
        const name = document.getElementById('username').value;
        if(name.length > 2) {
            activeUser = name;
            document.getElementById('login-overlay').classList.add('hidden');
            document.getElementById('main-content').classList.remove('hidden');
            document.getElementById('user-info').innerHTML = `Eingeloggt als: <b>${name}</b>`;
            updateLeaderboard();
        } else {
            alert("Name zu kurz!");
        }
    }

    function saveNewScore() {
        const val = document.getElementById('score-input').value;
        if(val) {
            scores.push({name: activeUser, points: parseInt(val)});
            scores.sort((a,b) => b.points - a.points);
            updateLeaderboard();
            document.getElementById('score-input').value = "";
        }
    }

    function updateLeaderboard() {
        const tbody = document.getElementById('leaderboard-body');
        if (scores.length === 0) {
            tbody.innerHTML = "<tr><td colspan='3' style='text-align:center;'>Noch keine Rekorde. Sei der Erste!</td></tr>";
            return;
        }
        tbody.innerHTML = "";
        scores.slice(0, 10).forEach((s, i) => {
            tbody.innerHTML += `<tr><td>${i+1}</td><td>${s.name}</td><td>${s.points.toLocaleString()}</td></tr>`;
        });
    }
</script>

</body>
</html>
